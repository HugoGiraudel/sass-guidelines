(function(global){"use strict";function hasClass(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")}function addClass(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}}function removeClass(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}}function toggleClass(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}else{elem.className+=" "+className}}var App=function(config){this.addOffsetView=config.addOffsetView?config.addOffsetView:0;this.headings=config.headings;this.headingsOffset=[];this.tableOfContents=config.tableOfContents;this.languagePicker=config.languagePicker;this.footer=config.footer;this.isLargerThanMobile=false};App.prototype.initialize=function(){this.evalClientResolution();this.validateHeadings();if(this.isLargerThanMobile){this.evalHeadingsPosition()}this.bindUI();this.adjustTableOfContents();this.addEvents();console.log(this)};App.prototype.addEvents=function(){document.addEventListener("scroll",this.adjustTableOfContents.bind(this),false);window.addEventListener("hashchange",this.fixSkipLinks.bind(this),false);window.addEventListener("resize",this.evalClientResolution.bind(this),false);window.addEventListener("scroll",this.evalHeadingsPosition.bind(this),false);this.languagePicker.addEventListener("change",this.redirectUrl,false)};App.prototype.evalClientResolution=function(){if(window.matchMedia("(min-width: 975px)").matches){this.isLargerThanMobile=true}else{this.isLargerThanMobile=false}};App.prototype.getDocumentHeight=function(){return window.innerHeight||document.clientHeight||document.body.clientHeight};App.prototype.getDocumentScrollTop=function(){return document.documentElement.scrollTop||document.body.scrollTop};App.prototype.getOffset=function(elem){var offset=0;do{if(!isNaN(elem.offsetTop))offset+=elem.offsetTop}while(elem=elem.offsetParent);return offset};App.prototype.validateHeadings=function(){var headingsTop=null;for(var i=0,headings=this.headings.length;i<headings;i++){headingsTop=this.getOffset(this.headings[i]);if(headingsTop&&this.headings[i].nodeName!=="H3"){this.headingsOffset.push([this.headings[i],headingsTop])}this.createHeadingsAnchor(this.headings[i])}};App.prototype.evalHeadingsPosition=function(event){var scrollTop=this.getDocumentScrollTop()+this.addOffsetView;if(this.isLargerThanMobile){for(var i=0,offsets=this.headingsOffset.length;i<offsets;i++){if(scrollTop>=this.headingsOffset[i][1]&&this.headingsOffset[i+1]&&!(scrollTop>=this.headingsOffset[i+1][1])){this.highlightTableOfContents(this.headingsOffset[i])}else if(this.headingsOffset[i]===this.headingsOffset[offsets-1]&&scrollTop>=this.headingsOffset[i][1]){this.highlightTableOfContents(this.headingsOffset[offsets-1])}}}};App.prototype.adjustTableOfContents=function(){var top=this.getOffset(this.tableOfContents);var bottom=this.getOffset(this.footer);var current=this.getDocumentScrollTop();var currentBottom=current+this.getDocumentHeight();if(current>top){addClass(this.tableOfContents,"sticky")}else{removeClass(this.tableOfContents,"sticky")}if(currentBottom>bottom){addClass(this.tableOfContents,"sticky-bottom")}else{removeClass(this.tableOfContents,"sticky-bottom")}};App.prototype.highlightTableOfContents=function(heading){var tocElem=this.tableOfContents.querySelector("#markdown-toc-"+heading[0].id);var inViewportElem=this.tableOfContents.querySelector(".in-viewport");if(!!tocElem&&!hasClass(tocElem,"in-viewport")){if(inViewportElem){removeClass(inViewportElem,"in-viewport")}addClass(tocElem,"in-viewport")}};App.prototype.bindUI=function(){var input=document.querySelectorAll('input[name="syntax"]');Array.prototype.slice.call(input).forEach(function(element){element.addEventListener("click",function(event){if(element.value==="sass"){addClass(document.body,"sass")}else{removeClass(document.body,"sass")}})})};App.prototype.createHeadingsAnchor=function(elem){var link=document.createElement("a");link.setAttribute("href","#"+elem.id);link.innerHTML="ðŸ”—";link.setAttribute("class","anchor-link");elem.appendChild(link)};App.prototype.fixSkipLinks=function(event){var element=document.getElementById(location.hash.substring(1));if(element){if(!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)){element.tabIndex=-1}element.focus()}};App.prototype.redirectUrl=function(event){window.location.href=this.value};global.App=App})(window);document.addEventListener("DOMContentLoaded",function(event){var useElements={addOffsetView:50,headings:document.querySelectorAll("#content > h1[id], #content > h2[id], #content > h3[id]"),tableOfContents:document.querySelector(".toc"),languagePicker:document.getElementById("language-picker"),footer:document.querySelector(".footer")};var sassGuidelines=new App(useElements);sassGuidelines.initialize()});
