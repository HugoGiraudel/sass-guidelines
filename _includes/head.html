<head>
  <!-- Basic meta tags -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% if site.github.environment %}
  <meta name="environment" content="{{ site.github.environment }}" />
  {% endif %}

  <!-- Site title -->
  {% capture site_title %}
  {% if page.title %}{{ page.title }}{% elsif page.language != 'en' %}{{ site.title }} — {{ site.data[page.language].configuration.label }} translation{% else %}{{ site.title }}{% endif %}
  {% endcapture %}
  <title>{{ site_title|strip }}</title>
  <meta name="og:title" content="{{ site_title|strip }}" />

  <!-- Site description & keywords -->
  <meta name="description" content="{{ site.data[page.language].translations.baseline.content }}" />
  <meta name="og:description" content="{{ site.data[page.language].translations.baseline.content }}" />
  <meta name="keywords" content="{{ site.keywords }}" />

  <!-- Site URL -->
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}" />
  <meta name="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}" />

  <!-- Critical CSS -->
  <style>
  {% include critical.css %}{% if site.data[page.language].translations.note != "" %}:lang({{ page.language }}) .note>p:first-child::before{content:"{{ site.data[page.language].translations.note }} — "}{% endif %}
  </style>

  <!-- JavaScript utilities -->
  <script>
  {% include utilities.js %}
  </script>

  <!-- Asynchronous CSS and fonts -->
  <script>
  loadCSS('/assets/css/main.css', null, 'screen');
  loadFont('sg', '/assets/css/fonts/data-woff.css', '/assets/css/fonts/data-woff2.css');
  </script>
  <noscript>
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | prepend: site.baseurl }}" media="screen" />
  </noscript>

  <!-- Responsive images setup -->  
  <script src="{{ '/assets/js/vendor/picturefill.min.js' | prepend: site.baseurl }}" async></script>

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" />
  <!--[if IE]><link rel="shortcut icon" href="/favicon.ico"><![endif]-->

  <!-- SVG for JavaScript usage -->
  <meta name="svg-link-icon" content='{% include icon.html icon="pin" title="Link to this section" %}' />
  <meta name="svg-pencil-icon" content='{% include icon.html icon="pencil" title="Edit this chapter on GitHub" %}' />

  <!-- Twitter card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@{{ site.twitter_username }}" />
  <meta name="twitter:title" content="{{ site_title|strip }}" />
  <meta name="twitter:description" content="{{ site.data.translations[page.language].baseline.content }}" />
</head>
